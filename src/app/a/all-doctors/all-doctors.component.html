<div class="main workspace !pt-4 !pb-1">
   <div class="w-full mb-0 mt-0">
      <div class="text-xl text-center mb-2 text-black text-opacity-60">Doctors</div>
   </div>
   <div class="bg-white rounded-lg px-5 pb-3 pt-5 shadow-xl relative">
      <div class="">
         <div class="relative flex w-full flex-col justify-stretch">
            <div class="flex mb-2">
               <input
                  id="datatable-search-input"
                  #dataTableSearch
                  (input)="mainClass.searched.search(dataTableSearch.value)"
                  (keyup)="mainClass.searched.search(dataTableSearch.value)"
                  [value]="mainClass.searched.query"
                  aria-describedby="button-addon1"
                  aria-label="Search"
                  placeholder="Search"
                  type="search"
                  class="w-full relative m-0 -mr-0.5 block min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-[0.25rem] text-base font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary-400 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:placeholder:text-neutral-200 dark:focus:border-primary-400"
               />
               <div class="ms-2">
                  <form-refresh-button
                     (click)="load({ force: true })"
                     [disabled]="mainClass.loading"
                     [loading]="mainClass.loading"
                  ></form-refresh-button>
               </div>
            </div>
            <div>
               <div #searchButtonsContainer class="flex gap-x-2 overflow-x-auto pb-1">
                  <ng-container *ngFor="let column of columns; let i = index">
                     <ng-container *ngIf="column.field">
                        <div>
                           <div
                              (click)="mainClass.searched.selectKey(column.field);"
                              [attr.data-column-field]="column['field']"
                              [ngClass]="{'active': mainClass.searched.list.includes(column.field)}"
                              class="searchBtn whitespace-nowrap [&.active]:bg-dark [&.active]:text-primary-100 relative px-4 pb-1 pt-1.5 border border-dark text-dark text-opacity-70 hover:text-opacity-90 text-sm rounded cursor-pointer"
                           >
                              {{ column['label'] }}
                           </div>
                        </div>
                     </ng-container>
                  </ng-container>
               </div>
            </div>
         </div>
      </div>
      <div
         id="dataTableContainer"
         #dataTableContainer
         data-te-fixed-header="true"
         class="[&_tr:hover]:bg-primary-300 [&_tr:hover]:bg-opacity-30 [&_tr]:transition-colors [&_tr]:duration-200 whitespace-nowrap scroll-auto [&_*]:scroll-auto max-w-full [&_tbody_tr]:opacity-0 [&>[data-te-datatable-inner-ref]]:max-h-[calc(100vh-255px)] [&_td]:py-2"
      >
      </div>
   </div>
</div>

<a
   data-te-ripple-color="light"
   data-te-ripple-init
   data-te-target="#possibleActions"
   data-te-toggle="modal"
   type="button"
   class="hidden cursor-pointer shake-top text-center w-fit rounded bg-blue-500 text-neutral-50 shadow-[0_4px_9px_-4px_rgba(51,45,45,0.7)] hover:bg-blue-600 hover:shadow-[0_8px_9px_-4px_rgba(51,45,45,0.2),0_4px_18px_0_rgba(51,45,45,0.1)] focus:bg-blue-800 focus:shadow-[0_8px_9px_-4px_rgba(51,45,45,0.2),0_4px_18px_0_rgba(51,45,45,0.1)] active:bg-blue-700 active:shadow-[0_8px_9px_-4px_rgba(51,45,45,0.2),0_4px_18px_0_rgba(51,45,45,0.1)] px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal transition duration-150 ease-in-out focus:outline-none focus:ring-0"
>
   Possible Actions Hidden Button
</a>

<!-- Modal - Possible Actions -->
<app-modal #possibleActionsModal>
   <div title>
      Possible Actions
      <span class="text-dark text-opacity-70 font-normal text-base">
         ID: {{ selectedObj.id }}
      </span>
   </div>
   <div body>
      <!-- Form -->
      <form [formGroup]="selectedObjectForm.fg">
         <div class="text-black font-semibold text-base mb-3">Update Details</div>
         <div class="mb-3">
            <form-input
               [errors]="selectedObjectForm.errors.email"
               controlName="email"
               label="Email"
               placeholder="e.g. john@gmail.com"
               type="text"
            ></form-input>
         </div>
         <div class="mb-3">
            <form-input
               [errors]="selectedObjectForm.errors.password"
               controlName="password"
               label="Password"
               placeholder="A strong password"
               type="text"
            ></form-input>
         </div>
         <div class="mb-3">
            <form-select
               [errors]="selectedObjectForm.errors.status"
               [options]="selectedObjectForm.accountStatusOptions"
               controlName="status"
               label="Account Status"
            ></form-select>
         </div>
         <div class="mb-3 flex justify-end gap-x-1">
            <div>
               <a
                  [queryParams]="{ d: selectedObj.id }"
                  [routerLink]="'p'"
                  [state]="{ is_patient_calling_component: false }"
                  data-te-ripple-color="light"
                  data-te-ripple-init
                  type="button"
                  class="ms-1 [&.deactivated]:pointer-events-none [&.deactivated]:opacity-30 inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200"
               >
                  View Profile
               </a>
            </div>
            <div>
               <button
                  (click)="doctorDocuments.load(); doctorDocuments.toShow=true; currentDocumentSelectedIndex=0;"
                  [ngClass]="{'hidden': selectedObj.status !== 'ACCOUNT_APPROVED' &&
                  selectedObj.status !== 'APPROVAL_REQUESTED'}"
                  data-te-ripple-color="light"
                  data-te-ripple-init
                  data-te-target="#documentsViewerModal"
                  data-te-toggle="modal"
                  type="button"
                  class="btn btn-primary-100"
               >
                  View Documents
               </button>
            </div>
            <form-submit-button
               (click)="selectedObjectForm.submit()"
               [disabled]="selectedObjectForm.loading"
               [waiting]="selectedObjectForm.loading"
               btnStyle="btn-blue btn-shadow"
               label="Update"
            ></form-submit-button>
         </div>
      </form>
   </div>
   <div bottom>
      <a
         [queryParams]="{ doctorId: selectedObj.id }" [routerLink]="['../', 'appo']"
         class="btn btn-primary-100 text-blue-700 w-full text-center"
      >
         View Appointments
      </a>
   </div>
</app-modal>
<!-- Modal - Possible Actions -->

<!-- Modal - Documents Viewer -->
<div
   id="documentsViewerModal"
   aria-hidden="true"
   aria-labelledby="documentsViewerModal"
   data-te-modal-init
   data-te-modal-non-invasive="true"
   tabindex="-1"
   class="backdrop-blur-0 opacity-0 [&:has(>div.opacity-100)]:backdrop-blur-md [&:has(>div.opacity-100)]:pointer-events-auto [&:has(>div.opacity-100)]:opacity-100 bg-dark bg-opacity-75 transition-all duration-200 pointer-events-none fixed inset-0 z-[2001] hidden w-full overflow-y-auto overflow-x-hidden outline-none"
>
   <div
      data-te-modal-dialog-ref
      class="pointer-events-none relative w-auto h-full translate-y-[-50px] opacity-0 transition-all duration-300 ease-in-out"
   >
      <div
         class="min-[576px]:shadow-[0_0.5rem_1rem_rgba(#000, 0.15)] pointer-events-auto relative flex w-full h-full max-h-full flex-col rounded-md border-none bg-white bg-clip-padding text-current shadow-lg outline-none dark:bg-neutral-600"
      >
         <div
            class="flex flex-shrink-0 items-center justify-between rounded-t-md border-b-2 border-neutral-100 border-opacity-100 px-4 pt-4 pb-2 dark:border-opacity-50"
         >
            <h5
               id="exampleModalLabel"
               class="text-lg font-medium leading-normal text-neutral-800 dark:text-neutral-200"
            >
               View Account Approval Documents
               <span class="text-red-600 font-semibold">
                  (Please disable IDM extension/software if installed for better experience)
               </span>
            </h5>
            <button
               (click)="doctorDocuments.toShow=false;"
               aria-label="Close"
               data-te-modal-dismiss
               type="button"
               class="box-content rounded-none border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"
            >
               <svg
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
               >
                  <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>
               </svg>
            </button>
         </div>
         <div data-te-modal-body-ref class="relative flex-auto px-4">
            <div class="flex gap-x-3">
               <!-- Form -->
               <div class="border-b py-3 flex flex-col gap-y-2">
                  <ng-container *ngFor="let file of doctorDocuments.list; let i = index">
                     <div
                        (click)="doctorDocuments.toShow=false; currentDocumentSelectedIndex=i;
                        doctorDocuments.lateShow();"
                        [ngClass]="currentDocumentSelectedIndex == i ? 'active' : ''"
                        class="searchBtn whitespace-nowrap [&.active]:bg-dark [&.active]:text-primary-100 relative px-4 pb-1 pt-1.5 border border-dark text-dark text-opacity-70 hover:text-opacity-90 text-sm rounded cursor-pointer"
                     >
                        File {{ i + 1 }}
                     </div>
                  </ng-container>
               </div>
               <!-- Form -->
               <div class="py-3 flex-grow">
                  <ng-container *ngIf="doctorDocuments.toShow">
                     <ngx-extended-pdf-viewer
                        [height]="'calc(100vh - 85px)'"
                        [src]="doctorDocuments.list[currentDocumentSelectedIndex]"
                        class="rounded-md"
                     ></ngx-extended-pdf-viewer>
                  </ng-container>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- Modal - Documents Viewer -->

<!-- Child Router Outlet -->
<div class="[&:has(>.sub-route-link.active)>.sub-route-workspace-container]:!block">
   <a [routerLinkActive]="['active']" routerLink="profile" class="sub-route-link hidden pointer-events-none"></a>
   <div class="sub-route-workspace-container absolute hidden z-[2001] top-0 left-0 w-full h-full bg-slate-200 pointer-events-auto">
      <router-outlet></router-outlet>
      <div class="absolute top-2 left-4 z-[2002]">
         <a
            routerLink="."
            type="button"
            class="inline-flex gap-x-2 rounded bg-primary px-4 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]"
         >
            <fa-icon [icon]="faArrowLeft" class="pt-[0.8px] block"></fa-icon>
            Back
         </a>
      </div>
   </div>
</div>
<!-- Child Router Outlet -->
