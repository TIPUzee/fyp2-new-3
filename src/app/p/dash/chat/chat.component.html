<div class="main workspace">
    <div class="mx-auto h-full">
        <div class="h-full w-full rounded-2xl shadow-lg border bg-white flex flex-col relative pb-3">
            <!-- Header -->
            <div class="py-4 px-7 rounded-t-[inherit] bg-primary-100 border-b shadow-3">
                <div class="flex justify-between items-center">
                    <div>
                        <span>AI Assisstant: </span>
                        <span class="font-semibold text-black">MediConnectAI</span>
                    </div>
                    <div>
                        <div class="relative" data-te-dropdown-ref>
                            <div
                                class="px-3 -my-2 rounded-md cursor-pointer flex justify-center items-center text-xl pt-1 -me-2"
                                id="dropdownMenuButton1"
                                data-te-dropdown-toggle-ref
                                aria-expanded="false"
                                data-te-ripple-init
                                data-te-ripple-color="light"
                            >
                                <fa-icon [icon]="faEllipsis"></fa-icon>
                            </div>
                            <ul
                                class="absolute z-[1000] py-2 float-left m-0 hidden min-w-max list-none overflow-hidden rounded-lg border bg-primary-100 bg-opacity-90 bg-clip-padding text-left text-base shadow-lg dark:bg-neutral-700 [&[data-te-dropdown-show]]:block"
                                aria-labelledby="dropdownMenuButton1"
                                data-te-dropdown-menu-ref
                            >
                                <li>
                                    <a
                                        class="cursor-pointer block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-white active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                                        data-te-dropdown-item-ref
                                        >Search</a
                                    >
                                </li>
                                <li>
                                    <a
                                        class="cursor-pointer block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-white active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                                        data-te-dropdown-item-ref
                                        >Clear Chat</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Header -->
            <!-- Body -->
            <div class="flex-grow flex flex-col px-4 max-h-full overflow-y-scroll relative">
                <!-- Chat box -->
                <div class="flex-grow">
                    <div class="flex flex-col justify-end h-full pb-20 pe-4 ps-7">
                        <ng-container *ngFor="let _msg of chat; let i = index">
                            <div
                                [ngClass]="_msg['type'] == 'received' ? 'received' : 'sent'"
                                class="[&.received]:bg-gradient-dark-300 [&.sent]:bg-blue-600 [&.sent]:ms-auto py-2 px-3 rounded-md text-white font-normal mb-3 max-w-xl"
                            >
                                {{ _msg['msg'] }}
                            </div>
                        </ng-container>
                    </div>
                </div>
                <!-- Chat box -->
            </div>
            <!-- Input Box -->
            <div class="absolute bottom-0 right-5 left-5 pb-4 bg-[inherit]">
                <div class="rounded-full border-2 p-2 shadow-md bg-primary-100">
                    <div class="flex">
                        <img src="assets/img/3d-profile-zoomed.jpg" class="ring shadow h-[40px] aspect-square border rounded-full" />
                        <div class="w-1"></div>
                        <input
                            #msgInput
                            (change)="sendMsg(msgInput.value)"
                            class="text-black flex-grow py-2 px-4 focus-within:outline-none bg-transparent"
                            placeholder="Your message here.."
                        />
                        <div class="w-3"></div>
                        <div class="aspect-square h-[40px] text-2xl flex items-center">
                            <fa-icon [icon]="faPaperPlane"></fa-icon>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Input Box -->
            <!-- Body -->
        </div>
    </div>
</div>
